version: 1.0.{build}

#---------------------------------#
#    environment configuration    #
#---------------------------------#

image: Visual Studio 2017 

platform:
  - Any CPU

install:
    - ps: >-
        try {
            $cake = Invoke-WebRequest https://cakebuild.net/download/bootstrapper/windows -OutFile build.ps1 
        } catch {
            Write-Warning -Message "Error obtaining latest CakeBuild Bootstrapper"
            Write-Warning -Message $_.Exception.Message
            Write-Warning -Message "Switching to Backup-Bootstrapper"
            Copy-item .\build\build.ps1 .\
        }
        
build_script:
    - ps: .\build.ps1

test: off

cache:
    -  .\Sources\WiQuest\WIQuest.Web\packages -> .\Sources\WiQuest\WIQuest.Web\packages.config
    -  .\packages -> .\Sources\WiQuest\WIQuest.Web\packages.config
